# QPCRpy

### Compute QPCR results from QPCR raw output  


These python scripts aim at calculating the **Delta_Ct, Delta_Delta_Ct and FoldChange** value which
produced by Quantitative real time polymerase chain reaction.


The following file formats are supported: **xls, xlsx, csv, txt**.

In addition, your should specify **internal control** name and **exprimental control** name for your own data sets.

For **ABi 7900** users, data column names must be 'Sample Name','Detector Name','Ct','Ct Mean'. But 'Ct StdEV' is optional.

For **ABi ViiA 7 or Q7** users, you can use qpcrRead.py to extract data computing results directly.

For **other machines**, you could use qpcrCalculate.py to caluclate results with you own data. the Input file format have to be
exactly the same as **test_interest_data.xls**.


## Dependency

Python2.7 or Python3+

* numpy
* pandas

### Before use this module, see help

    python qpcrRead.py -h

    python qpcrCalculate.py -h


#### Parameters for qpcrCalculate.py

Calculate Delta Ct, DDelta Ct, Fold Changes for QPCR results.

    optional arguments:
      -h, --help            show this help message and exit
      -d, --data DATA  the file you want to analysis.
      -s, --sheetName SHEET
                            str, int. the sheet name of your excel file you want
                            to analysis.Strings are used for sheet names, Integers
                            are used in zero-indexed sheet positions.
      -i, --internalControl IC
                            the internal control gene name of your sample, e.g.
                            GAPDH
      -e, --experimentalControl EC
                            the control group name which your want to compare,
                            e.g. hESC
      -o, --outFileNamePrefix OUT
                            the output file name
      -m, --mode {bioRep,techRep, dropOutlier}
                            calculation mode. Choose from {'bioRep',
                            'techRep','dropOutlier'}.
                            'bioRep': using all data to calculate mean CT.
                            'techRep': only use first entry of replicates.
                            'dropOutlier': if sd < 0.5, reject outlier and
                            recalculate mean CT Default: bioRep.
      --header HEAD         Row (0-indexed) to use for the column labels of the
                            parsed DataFrame
      --tail TAIL           the tail Rows of your excel file you want to skip
                            (0-indexed)
      --version             show program's version number and exit


## Usage

### Extract Data from ABI machine  Data output

**e.g.**  

```bash
    python qpcrRead.py -d test/h9_vii7_export.xls --header 35 --tail 5  -o test/output
```

### Calculate Detal_Ct, Delta_Delta_Ct, Fold_Changes

To run this program sucessfully, please use output file which is generated by qpcrRead.py

For other RT-QPCR output formats, you can reshape your own data structure the same as **test_interest_data.xls**. `qpcrCalculate.py` will also work for your input. 

The following file formats are supported: **xls, xlsx, csv, txt**.
**e.g.**

```bash
    python qpcrCalculate.py -d test/test_interest_data.xls \
                            -i GAPDH  -e H9_NT_LSB_D16 \
                            -o test/20150625_NPC_Knockdown
```

## To Do List

1. Generate bar or line Plots using Matplotlib automatically
2. Generate Python Plotting Scripts for customized modification
