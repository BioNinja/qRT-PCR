# QPCRpy

### Compute QPCR results from QPCR raw output  


These python scripts aim at calculating the **Delta_Ct, Delta_Delta_Ct and FoldChange** value which
produced by Quantitative real time polymerase chain reaction.


The following file formats are supported: **xls, xlsx, csv, txt**.

In addition, your should specify **internal control** name and **exprimental control** name for your own data sets.

For **ABi 7900** users, data column names must be 'Sample Name','Detector Name','Ct','Ct Mean'. But 'Ct StdEV' is optional.

For **ABi ViiA 7 or Q7** users, you can use qpcrRead.py to extract data computing results directly.

For other machines, you could use qpcrCalculate.py to caluclate results with you own data. the Input file format have to be
exactly the same as **test_interest_data.xls**.


## Dependency

Python2.7 or Python3+

* pandas
* matplotlib

### Before use this module, see help

    python qpcrRead.py -h

    python qpcrCalculate.py -h


#### Parameters

Calculate Delta Ct, DDelta Ct, Fold Changes for QPCR results.

    optional arguments:
      -h, --help            show this help message and exit
      -d DATA, --data DATA  the file you want to analysis.
      -s SHEET, --sheetName SHEET
                            str, int. the sheet name of your excel file you want
                            to analysis.Strings are used for sheet names, Integers
                            are used in zero-indexed sheet positions.
      -i IC, --internalControl IC
                            the internal control gene name of your sample, e.g.
                            GAPDH
      -e EC, --experimentalControl EC
                            the control group name which your want to compare,
                            e.g. hESC
      -o OUT, --outFileNamePrefix OUT
                            the output file name
      -m {bioRep,techRep}, --mode {bioRep,techRep}
                            calculation mode. Choose from {'bioRep',
                            'techRep'}.bioRep: using all data to caluclate mean
                            DeltaCT. techRep: only use first entry of replicates.
                            Default: bioRep.
      --header HEAD         Row (0-indexed) to use for the column labels of the
                            parsed DataFrame
      --tail TAIL           the tail Rows of your excel file you want to skip
                            (0-indexed)
      --version             show program's version number and exit


#### Extract Data from Original Data output

**e.g.**  

```bash
    python qpcrRead.py -d h9_vii7_export.xls --header 35 --tail 5  -o 20150625_NPC_Knockdown
```

##### Calculate Detal_Ct, Delta_Delta_Ct, Fold_Change and generate output file

To run this program sucessfully, please use output file which is generated by qpcrRead.py

For other RT-QPCR output formats, you can reshape your own data structure the same as **test_interest_data.xls**. `qpcrCalculate.py` will also work for your input. 

**e.g.**

```bash
    python qpcrCalculate.py -d test_interest_data.xls -s Sheet1 \
                            -i GAPDH  -e H9_NT_LSB_D16 \
                            -o 20150625_NPC_Knockdown
```

#### Generate Plots: line, bar plot

To Do

## To Do List

1. process data automatically without pre-filter outliner mannully.
2. Generate Plots using Matplotlib automatically
3. Generate Matplotlib Plotting Scripts for customized modification
